---
layout: post
title: "前端知识体系回顾——第二章 HTTP协议2"
date: 2016-05-04 12:06:05
author: "陈凯"
meta: "技术基础"
description: "摘要：「前端知识体系系列第二部分，这部分内容较多，分成三篇进行讲述,本文是，第二章HTTP系列第二篇。」"
categories: 前端笔记 技术基础
excerpt: 开发基础

---
* content
{:toc}

----

# 第二章 HTTP协议2

## 11.相对路径和绝对路径

+ 相对路径：以引用文件所在的目录为参考点，建立与其他目录中资源的相对关系，与根目录无关
+ 绝对路径：以Web站点根目录为参考点，逐级向下寻找资源，又叫完全路径或者物理路径。


----------


## 12.统一资源定位符URL

**用于完整描述Internet上网页和其他信息资源地址的一种标识方法。俗称“网址”。**

**基本格式**为：访问协议：//域名（主机名）/端口号/文件路径（绝对路径，从根站点开始）?字符串查询#片段标识符解析

## 13.为什么利用多个域名来提供网站资源会更有效？

+ 浏览器同一时间可以从一个域名下载多少资源？有什么例外吗？ 
  
+ 加分项： 指出在手机端可能有负面影响(http://www.mobify.com/blog/domain-sharding-bad-news-mobile-performance/)加分项： HTTP2 / SPDY。

+ 请说出三种减少页面加载时间的方法。（加载时间指感知的时间或者实际加载时间）

+ 这是关于站点优化，减少http请求的问题，请参考后面的站点优化部分。


----------


## 14.反向代理

+ **反向代理**（Reverse Proxy）方式是指以代理服务器来接受internet上的连接请求，然后将请求转发给内部网络上的服务器，并将从服务器上得到的结果返回给internet上请求连接的客户端，此时代理服务器对外就表现为一个反向代理服务器。

+ **CDN** 的全称是Content Delivery Network，即内容分发网络。其基本思路是尽可能避开互联网上有可能影响数据传输速度和稳定性的瓶颈和环节，使内容传输的更快、更稳定。通过在网络各处放置反向代理节点服务器所构成的在现有的互联网基础之上的一层智能虚拟网络，CDN系统能够实时地根据网络流量和各节点的连接、负载状况以及到用户的距离和响应时间等综合信息将用户的请求重新导向离用户最近的服务节点上。其目的是使用户可就近取得所需内容，解决 Internet网络拥挤的状况，提高用户访问网站的响应速度。


----------


## 15.请描述一下 `GET` 和 `POST` 的区别？这个是关于http请求与的知识

+ **get和post方式的区别归纳如下几点：**
1. GET是从服务器上获取数据，POST是向服务器传送数据。
2. GET 是把参数数据队列加到提交表单的ACTION属性所指的URL中，值和表单内各个字段一一对应，在URL中可以看到。
3. POST是通过HTTP POST机制，将表单内各个字段与其内容放置在HTML HEADER内一起传送到ACTION属性所指的URL地址。用户看不到这个过程。
4. 对于GET方式，服务器端用Request.QueryString获取变量的值，对于POST方式，服务器端用Request.Form获取提交的数据。
5. GET传送的数据量较小，不能大于2KB（这主要是因为受URL长度限制）。POST传送的数据量较大，一般被默认为不受限制。但理论上，限制取决于服务器的处理能力。
6. GET 安全性较低，POST安全性较高。因为GET在传输过程，数据被放在请求的URL中，而如今现有的很多服务器、代理服务器或者用户代理都会将请求URL记 录到日志文件中，然后放在某个地方，这样就可能会有一些隐私的信息被第三方看到。另外，用户也可以在浏览器上直接看到提交的数据，一些系统内部消息将会一 同显示在用户面前。POST的所有操作对用户来说都是不可见的。
7. 在FORM提交的时候，如果不指定Method，则默认为 GET请求（.net默认是POST），Form中提交的数据将会附加在url之后，以?分开与url分开。字母数字字符原样发送，但空格转换为“+” 号，其它符号转换为%XX,其中XX为该符号以16进制表示的ASCII（或ISO Latin-1）值。GET请求请提交的数据放置在HTTP请求协议头中，而POST提交的数据则放在实体数据中；GET方式提交的数据最多只能有2048字节，而POST则没有此限制。POST传递的参数在doc里，也就http协议所传递的文本，接受时再解析参数部分。获得参数。一般用POST比较好。POST提交数据是隐式的，GET是通过在url里面传递的，用来传递一些不需要保密的数据，GET是通过在URL里传递参数，POST不是。get安全性非常低，post安全性较高。但是执行效率却比Post方法好。


+ **建议:**
1. get方式的安全性较Post方式要差些，包含机密信息的话，建议用Post数据提交方式; 
2. 在做数据查询时，建议用Get方式;而在做数据添加、修改或删除时，建议用Post方式。


----------


## 16.说说TCP传输的三次握手四次挥手策略、

为了准确无误地把数据送达目标处，`TCP`协议采用了三次握手策略。用TCP协议把数据包送出去后，`TCP`不会对传送后的情况置之不理，它一定会向对方确认是否成功送达。握手过程中使用了TCP的标志：`SYN`和`ACK`。

发送端首先发送一个带`SYN`标志的数据包给对方。接收端收到后，回传一个带有`SYN/ACK`标志的数据包以示传达确认信息。

最后，发送端再回传一个带`ACK`标志的数据包，代表“握手”结束。

若在握手过程中某个阶段莫名中断，`TCP`协议会再次以相同的顺序发送相同的数据包。

**断开一个TCP连接则需要“四次握手”：**

+ 第一次挥手：主动关闭方发送一个`FIN`，用来关闭主动方到被动关闭方的数据传送，也就是主动关闭方告诉被动关闭方：我已经不 会再给你发数据了(当然，在fin包之前发送出去的数据，如果没有收到对应的ack确认报文，主动关闭方依然会重发这些数据)，但是，此时主动关闭方还可 以接受数据。
+ 第二次挥手：被动关闭方收到`FIN`包后，发送一个`ACK`给对方，确认序号为收到序号`+1`（与`SYN`相同，一个`FIN`占用一个序号）。
+ 第三次挥手：被动关闭方发送一个`FIN`，用来关闭被动关闭方到主动关闭方的数据传送，也就是告诉主动关闭方，我的数据也发送完了，不会再给你发数据了。
+ 第四次挥手：主动关闭方收到`FIN`后，发送一个`ACK`给被动关闭方，确认序号为收到序号+1，至此，完成四次挥手。


----------


## 17.TCP和UDP的区别

+ **TCP**（Transmission Control Protocol，传输控制协议）是基于连接的协议，也就是说，在正式收发数据前，必须和对方建立可靠的连接。一个`TCP`连接必须要经过三次“对话”才能建立起来

+ **UDP**（User Data Protocol，用户数据报协议）是与TCP相对应的协议。它是面向非连接的协议，它不与对方建立连接，而是直接就把数据包发送过去！
UDP适用于一次只传送少量数据、对可靠性要求不高的应用环境。


----------


## 18.HTTP和HTTPS

**HTTP协议**通常承载于TCP协议之上，有时也承载于`TLS`或`SSL`协议层之上，这个时候，就成了我们常说的HTTPS。

默认HTTP的端口号为80，`HTTPS`的端口号为443。

**为什么`HTTPS`安全**

因为网络请求需要中间有很多的服务器路由器的转发。中间的节点都可能篡改信息，而如果使用`HTTPS`，密钥在你和终点站才有。`HTTPS`之所以比`http`安全，是因为他利用`TLS`或`SSL`协议传输。它包含证书，卸载，流量转发，负载均衡，页面适配，浏览器适配，refer传递等。保障了传输过程的安全。


----------


## 19.关于Http 2.0 你知道多少？

+ HTTP/2 引入了“服务端推（server push）”的概念，它允许服务端在客户端需要数据之前就主动地将数据发送到客户端缓存中，从而提高性能。
+ HTTP/2 提供更多的加密支持
+ HTTP/2 使用多路技术，允许多个消息在一个连接上同时交差。
+ 它增加了头压缩（header compression），因此即使非常小的请求，其请求和响应的`header`都只会占用很小比例的带宽。


----------


## 20.一个页面从输入 URL 到页面加载显示完成，这个过程中都发生了什么？

**分为4个步骤：**
1. 当发送一个URL请求时，不管这个URL是Web页面的URL还是Web页面上每个资源的URL，浏览器都会开启一个线程来处理这个请求，同时在远程DNS服务器上启动一个DNS查询。这能使浏览器获得请求对应的IP地址。
2. 浏览器与远程`Web`服务器通过`TCP`三次握手协商来建立一个`TCP/IP`连接。该握手包括一个同步报文，一个同步-应答报文和一个应答报文，这三个报文在浏览器和服务器之间传递。该握手首先由客户端尝试建立起通信，而后服务器应答并接受客户端的请求，最后由客户端发出该请求已经被接受的报文。
3. 一旦`TCP/IP`连接建立，浏览器会通过该连接向远程服务器发送`HTTP`的`GET`请求。远程服务器找到资源并使用HTTP响应返回该资源，值为200的HTTP响应状态表示一个正确的响应。
4. 此时，`Web`服务器提供资源服务，客户端开始下载资源。
5. 请求返回后，便进入了我们关注的前端模块.
6. 简单来说，浏览器会解析`HTML`生成`DOM Tree`，其次会根据CSS生成CSS Rule Tree，而`javascript`又可以根据`DOM API`操作`DOM`。

**详情：**从输入 URL到页面加载完成的过程中都发生了什么事情？这个很有名的问题请见http://fex.baidu.com/blog/2014/05/what-happen/

